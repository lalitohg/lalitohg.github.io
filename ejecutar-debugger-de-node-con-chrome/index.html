<!DOCTYPE html><html lang="es"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.131b48b25a50eff60b34.css">code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><meta name="generator" content="Gatsby 2.18.24"/><style data-styled="eRnGfb chXYij bbXCFQ eURyMG hkfMLs bxPIHO iwfyLn cnbeOt fbGfHa jKvNwM eCwGRV cjpAmT fLXykm bgTXuI dIkKGb tBtPR dTvBBf xudZF eljrwt ejVUUB kcmIPB iFjAGq derogv bYGEVA dgmtYz eHJGcr" data-styled-version="4.4.1">
/* sc-component-id: Header__HeaderWrapper-h7migc-0 */
.eRnGfb{top:0;left:0;margin:0 auto;display:block;width:100%;z-index:1000;background-color:rgba(32,35,42,0.85);font-weight:700;} @media (min-width:700px){.eRnGfb{position:fixed;}}
/* sc-component-id: Header__HeaderNav-h7migc-1 */
.chXYij{font-weight:700;margin-left:auto;margin-right:auto;height:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;max-width:770px;z-index:1000;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;overflow-x:auto;overflow-y:hidden;white-space:nowrap;padding:0px 20px;}
/* sc-component-id: Header__HeaderLinksContainer-h7migc-2 */
.hkfMLs{display:none;-webkit-box-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;} @media (min-width:700px){.hkfMLs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}
/* sc-component-id: Header__HeaderLink-h7migc-3 */
.bxPIHO{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#ffffff;border:0;margin:0;padding:8px 10px;min-width:42px;z-index:10;} .bxPIHO + .Header__HeaderLink-h7migc-3{margin-left:0.7rem;}
/* sc-component-id: Header__HeaderLinkTitle-h7migc-4 */
.bbXCFQ{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#ffffff;border:0;margin:0;padding:8px 10px;min-width:42px;z-index:10;padding-left:0;} .bbXCFQ + .Header__HeaderLinkTitle-h7migc-4{margin-left:0.7rem;}
/* sc-component-id: Header__HeaderLinkTitleContent-h7migc-5 */
.eURyMG{display:block;padding-left:0;}
/* sc-component-id: Header__BurgerButton-h7migc-9 */
.iwfyLn{z-index:30;top:0px;position:relative;color:#ffffff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:transparent;border:none;cursor:pointer;padding:8px 12px;outline:none;-webkit-tap-highlight-color:transparent;} @media (min-width:700px){.iwfyLn{display:none;}}
/* sc-component-id: Header__BurgerContent-h7migc-10 */
.cnbeOt{width:24px;height:2px;background:#ffffff;position:absolute;left:0;background:#ffffff;-webkit-transition:all 250ms cubic-bezier(0.86,0,0.07,1);transition:all 250ms cubic-bezier(0.86,0,0.07,1);} .cnbeOt::before{content:'';top:-8px;width:24px;height:2px;background:#ffffff;position:absolute;left:0;-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);-webkit-transition:all 250ms cubic-bezier(0.86,0,0.07,1);transition:all 250ms cubic-bezier(0.86,0,0.07,1);} .cnbeOt::after{top:8px;content:'';width:24px;height:2px;background:white;position:absolute;left:0;-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);-webkit-transition:all 250ms cubic-bezier(0.86,0,0.07,1);transition:all 250ms cubic-bezier(0.86,0,0.07,1);}
/* sc-component-id: Footer__FooterWrapper-sc-26us4e-0 */
.eHJGcr{text-align:left;padding-top:30px;padding-bottom:50px;background-color:#3E4047;color:#ffffff;padding-left:20px;padding-right:20px;margin:0 auto;} .eHJGcr nav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;max-width:900px;margin:0 auto;} .eHJGcr nav .footer-col{-webkit-flex:1 auto;-ms-flex:1 auto;flex:1 auto;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-bottom:1em;padding-right:1em;} .eHJGcr a{color:#ffffff;font-weight:bold;} .eHJGcr a:hover{color:#CFCFD1;} .eHJGcr .footer-col > p{margin:0;} .eHJGcr .footer-title{margin:0 0 1rem;} .eHJGcr .footer-item{padding:0.25rem 0;color:#ffffff;} .eHJGcr .footer-heart{color:red;} .eHJGcr .footer-item-text{padding:0.1rem 0;color:#ffffff;} .eHJGcr .footer-header{-webkit-order:1;-ms-flex-order:1;order:1;margin:0 0.25rem;margin-right:0.25rem;padding:0.25rem;} @media (max-width:564px){.eHJGcr .footer-col:first-child{width:100%;}}
/* sc-component-id: sc-global-2133546994 */
*{box-sizing:border-box;margin:0;padding:0;} body{font-family:"Lato",sans-serif;color:#3E4047;background-color:#f4f8fb;} img{max-width:100%;height:auto;vertical-align:middle;border:0;} a{-webkit-text-decoration:none;text-decoration:none;color:#3E4047;} hr{border:0;border-top:1px solid #ECECED;margin:50px 0 5px 0;} ul,ol{padding-left:2em;margin:1em 0 0 0;} *::selection{background-color:#ffdc4e;}
/* sc-component-id: Commons__StyledLink-sc-4jkj7v-0 */
.dgmtYz{box-shadow:0 2px 0 0 #ffdc4e;} .dgmtYz:hover{box-shadow:none;}
/* sc-component-id: Commons__Text-sc-4jkj7v-1 */
.bYGEVA{line-height:1.6;margin:1em 0 0 0;}
/* sc-component-id: Commons__Bull-sc-4jkj7v-2 */
.dTvBBf{display:inline-block;color:#697980;margin:0 4px;} .dTvBBf::before{content:'•';}
/* sc-component-id: layout__SiteContent-sc-726pf8-0 */
.fbGfHa{margin:0 0;} @media (min-width:700px){.fbGfHa{margin:60px 0;}}
/* sc-component-id: Wrapper-sc-1i6tdq5-0 */
.fLXykm{position:relative;border-radius:5px;width:80%;max-width:770px;word-wrap:break-word;background-color:#ffffff;margin:0px auto 30px auto;top:30px;padding:50px;box-shadow:0 0 0 0,0 6px 12px rgba(0,0,0,0.1);} @media (max-width:780px){.fLXykm{width:90%;padding:25px;}}
/* sc-component-id: Hero__HeroContainer-muomhw-0 */
.jKvNwM{position:relative;display:table;width:100%;height:400px;overflow:hidden;background-repeat:no-repeat;background-position:center;background-size:cover;}
/* sc-component-id: Hero__TitleContainer-muomhw-1 */
.eCwGRV{display:table-cell;vertical-align:middle;text-align:center;width:100%;}
/* sc-component-id: Hero__HeroTitle-muomhw-2 */
.cjpAmT{font-weight:700;font-size:3rem;margin:10px 60px;color:#ffffff;text-shadow:1px 1px 4px rgba(16,16,16,1);}
/* sc-component-id: TagList__ListContainer-uooful-0 */
.xudZF{display:inline;color:#697980;}
/* sc-component-id: TagList__TagListItem-uooful-1 */
.eljrwt{text-transform:uppercase;color:#697980;} .eljrwt:not(:first-child){margin-left:0.3rem;} .eljrwt:hover{border-bottom:1px dotted #57595d;} .eljrwt:before{content:'#';}
/* sc-component-id: Bio__BioWrapper-sc-1f5ffr1-0 */
.iFjAGq .author-image{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;position:absolute;top:-40px;left:50%;margin-left:-40px;width:80px;height:80px;border-radius:100%;overflow:hidden;padding:6px;z-index:2;box-shadow:#ececec 0 0 0 1px;background-color:#ffffff;} .iFjAGq .author-image .img{position:relative;display:block;width:100%;height:100%;background-size:cover;background-position:center center;border-radius:100%;} .iFjAGq .author-profile .author-image{position:relative;left:auto;top:auto;width:120px;height:120px;padding:3px;margin:-100px auto 0 auto;box-shadow:none;}
/* sc-component-id: Bio__BioText-sc-1f5ffr1-1 */
.derogv{line-height:1.6;margin:1em 0 0 0;} .derogv a{box-shadow:0 2px 0 0 #ffdc4e;} .derogv a:hover{box-shadow:none;}
/* sc-component-id: ContentHeader__Header-sc-1cvyxd6-0 */
.dIkKGb{margin-bottom:2rem;color:#57595d;font-size:0.9em;}
/* sc-component-id: Content__ContentBody-sc-1fey3p2-0 */
.ejVUUB{line-height:1.6;} .ejVUUB > h2{padding-top:3rem;margin-top:3rem;border-top:1px solid #ececec;} .ejVUUB > h3{padding-top:3rem;} .ejVUUB > p{margin:1em 0 0 0;} .ejVUUB a{box-shadow:0 2px 0 0 #ffdc4e;} .ejVUUB a:hover{box-shadow:none;} .ejVUUB a.anchor,.ejVUUB a.gatsby-resp-image-link{box-shadow:none;} .ejVUUB > blockquote{box-sizing:border-box;background-color:#f7f7f7;border-left:5px solid rgb(244,213,36);margin:30px 0px;padding:5px 20px;border-radius:0 8px 8px 0;} .ejVUUB > blockquote p{margin:0.8em 0;font-style:italic;} .ejVUUB .gatsby-highlight{border-radius:5px;font-size:15px;line-height:1.7;border-radius:10px;overflow:auto;tab-size:1.5em;margin:1.5em 0em 1.5em 0;} .ejVUUB .gatsby-highlight > pre{border:0;margin:0;padding:1;} .ejVUUB .gatsby-highlight-code-line{background-color:#022a4b;display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:0.75em;border-left:0.25em solid #ffdc4e;} .ejVUUB h1 > code.language-text,.ejVUUB h2 > code.language-text,.ejVUUB h3 > code.language-text,.ejVUUB h4 > code.language-text,.ejVUUB h5 > code.language-text,.ejVUUB h6 > code.language-text,.ejVUUB a > code.language-text,.ejVUUB p > code.language-text,.ejVUUB li > code.language-text,.ejVUUB em > code.language-text,.ejVUUB strong > code.language-text{background:#fff9d9;color:#222222cc;padding:0 3px;font-size:0.94em;border-radius:0.3rem;word-wrap:break-word;} .ejVUUB code{white-space:pre-wrap;word-wrap:break-word;} .ejVUUB table{margin-top:1em;border-collapse:collapse;border-radius:0.5em;overflow:hidden;} .ejVUUB table th,.ejVUUB table td{padding:0.5em;background:#f7f7f7;border-bottom:2px solid #ffffff;}
/* sc-component-id: Article__ArticleWrapper-sc-1ieqwvb-0 */
.bgTXuI{padding:0 30px 30px;} @media only screen and (max-width:500px){.bgTXuI{padding:0;}}
/* sc-component-id: Article__ArticleFooter-sc-1ieqwvb-1 */
.kcmIPB{position:relative;margin:6rem 0 0;padding:3rem 0 0;border-top:1px solid #ececec;}
/* sc-component-id: Time__TimeContainer-sc-1gfv70c-0 */
.tBtPR{color:#697980;}</style><title data-react-helmet="true">Ejecutar el debugger de node con chrome | Dále Run</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Lato:400,700&amp;display=swap" rel="stylesheet"/><link data-react-helmet="true" rel="canonical" href="https://dalerun.com/ejecutar-debugger-de-node-con-chrome"/><meta data-react-helmet="true" name="description" content="Usar Docker para desarrollar una aplicación Node es cada vez más común. Sin embargo, eso complica un poco la ejecución del debugger que está…"/><meta data-react-helmet="true" property="og:url" content="https://dalerun.com/ejecutar-debugger-de-node-con-chrome"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Ejecutar el debugger de node con chrome | Dále Run"/><meta data-react-helmet="true" property="og:description" content="Usar Docker para desarrollar una aplicación Node es cada vez más común. Sin embargo, eso complica un poco la ejecución del debugger que está…"/><meta data-react-helmet="true" property="og:image" content="https://dalerun.comhttp://doma.in"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="codeninjalalo"/><meta data-react-helmet="true" name="twitter:title" content="Ejecutar el debugger de node con chrome | Dále Run"/><meta data-react-helmet="true" name="twitter:description" content="Usar Docker para desarrollar una aplicación Node es cada vez más común. Sin embargo, eso complica un poco la ejecución del debugger que está…"/><meta data-react-helmet="true" name="twitter:image" content="https://dalerun.comhttp://doma.in"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="icon" href="/icons/icon-48x48.png?v=4223c2eac7782eb8296691ba4df26d03"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#222222"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=4223c2eac7782eb8296691ba4df26d03"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=4223c2eac7782eb8296691ba4df26d03"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=4223c2eac7782eb8296691ba4df26d03"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=4223c2eac7782eb8296691ba4df26d03"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=4223c2eac7782eb8296691ba4df26d03"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=4223c2eac7782eb8296691ba4df26d03"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=4223c2eac7782eb8296691ba4df26d03"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=4223c2eac7782eb8296691ba4df26d03"/><link as="script" rel="preload" href="/webpack-runtime-d64f93a43f7147080ee8.js"/><link as="script" rel="preload" href="/app-f7cfeda098be14c50e52.js"/><link as="script" rel="preload" href="/styles-d51cd31b28a7e87a52a7.js"/><link as="script" rel="preload" href="/commons-b2b7124e25699a8e1264.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-72869f1b3a3013571f9f.js"/><link as="fetch" rel="preload" href="/page-data/ejecutar-debugger-de-node-con-chrome/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><header class="Header__HeaderWrapper-h7migc-0 eRnGfb"><nav class="Header__HeaderNav-h7migc-1 chXYij"><a aria-label="View home page" class="Header__HeaderLink-h7migc-3 Header__HeaderLinkTitle-h7migc-4 bbXCFQ" href="/"><span class="Header__HeaderLinkTitleContent-h7migc-5 eURyMG">Dále Run</span></a><div class="Header__HeaderLinksContainer-h7migc-2 hkfMLs"><a aria-label="View Blog page" class="Header__HeaderLink-h7migc-3 bxPIHO" href="/">Blog</a><a aria-label="View Subscribirte page" class="Header__HeaderLink-h7migc-3 bxPIHO" href="/subscribirte">Subscribirte</a></div><button aria-label="open menu" class="Header__BurgerButton-h7migc-9 iwfyLn"><div class="Header__BurgerContent-h7migc-10 cnbeOt"></div></button></nav></header><div class="layout__SiteContent-sc-726pf8-0 fbGfHa"><div style="background-image:url(&quot;/static/56b0c3a9b8728448b6d03392fb97879c/a54c6/site-cover.png&quot;)" class="Hero__HeroContainer-muomhw-0 jKvNwM"><div class="Hero__TitleContainer-muomhw-1 eCwGRV"><h1 class="Hero__HeroTitle-muomhw-2 cjpAmT">Ejecutar el debugger de node con chrome</h1></div></div><main role="main" class="Wrapper-sc-1i6tdq5-0 fLXykm"><article class="Article__ArticleWrapper-sc-1ieqwvb-0 bgTXuI"><section><header class="ContentHeader__Header-sc-1cvyxd6-0 dIkKGb"><time class="Time__TimeContainer-sc-1gfv70c-0 tBtPR">1 February 2020</time><span class="Commons__Bull-sc-4jkj7v-2 dTvBBf"></span><div class="TagList__ListContainer-uooful-0 xudZF"><a class="TagList__TagListItem-uooful-1 eljrwt" href="/tags/javascript">javascript</a>, <a class="TagList__TagListItem-uooful-1 eljrwt" href="/tags/node">node</a>, <a class="TagList__TagListItem-uooful-1 eljrwt" href="/tags/tip">tip</a></div></header><div class="Content__ContentBody-sc-1fey3p2-0 ejVUUB"><p>Usar Docker para desarrollar una aplicación Node es cada vez más común. Sin embargo, eso complica un poco la ejecución del debugger que está configurado de forma predeterminada para funcionar en un ambiente completamente local.</p>
<p>Ahora voy a mostrar como podemos ejecutar el debugger de Node y seguir la ejecución de una aplicación que corre desde un contenedor Docker usando solamente las herramientas incluidas en el navegador Chrome.</p>
<h2>Antes de iniciar</h2>
<p>Primero hay que asegurarse de que tenemos una imagen de <strong>Node</strong> para iniciar contenedores basados en ella. Si aún no tienes una imagen de <strong>Node</strong> puedes cargar una con el comando: <code class="language-text">docker pull node</code>.</p>
<p>Empecemos con una aplicación sencilla que solamente muestre un mensaje en la consola cuando el programa inicia y que después hace la suma de 1+1 guardando el resultado en una contante para finalmente mostrar el resultado de la suma en consola.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// index.js</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"El script ha iniciado"</span><span class="token punctuation">)</span>
<span class="token keyword">debugger</span>
<span class="token keyword">const</span>  a <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">El resultado final es: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></code></pre></div>
<p>Es un script sencillo pero suficiente para ilustrar el punto. Ahora vamos a arrancar el contenedor que ejecutará este script.</p>
<p>Primero debemos abrir una terminal y cambiarnos al directorio donde está guardado el script.</p>
<blockquote>
<p>Si estás intentado seguir estos pasos desde una computadora con Linux o MacOS tal vez quieras modificar los permisos del script antes de continuar. Debería funcionar con algo como <code class="language-text">chmod 777 index.js</code></p>
</blockquote>
<h2>Ejecutar el debugger de node desde Docker</h2>
<p>Ahora iniciamos el contenedor con el siguiente comando: <code class="language-text">docker run --rm -it --name test -v C:\Users\lalo\debugger:/usr/src/app -w /usr/src/app -p 9229:9229 node node --inspect-brk=0.0.0.0:9229 index.js</code></p>
<p>Veamos que hace cada modificador del comando:</p>
<ul>
<li><strong>docker run</strong>. Iniciamos un nuevo contenedor</li>
<li><strong>--rm</strong>. El contenedor será eliminado al terminar la ejecución del proceso</li>
<li><strong>-it</strong>. El proceso va a interactuar con nuestra terminal recibiendo y enviando texto</li>
<li><strong>--name test</strong>. El contenedor tendrá un nombre para poder identificarlo entre los demás procesos que ejecute Docker. Si no usamos este modificador Docker le asignará un nombre aleatorio</li>
<li><strong>-v C:\Users\lalo\debugger:/usr/src/app</strong>. Con esto <em>montamos</em> el folder local de nuestra computadora en el directorio <strong>/usr/src/app</strong> del contenedor que estamos creando. Tendrás que reemplazar <strong>C:\Users\lalo\debugger</strong> por la ruta que aplique en tu caso</li>
<li><strong>-w /usr/src/app</strong>. Cambiamos el directorio de trabajo dentro del contedor a <strong>/usr/src/app</strong> (es donde la imagen de Node ejecuta los scripts de forma predeterminada). Es como si una vez iniciado el contenedor ejecutaramos <code class="language-text">cd /usr/src/app</code></li>
<li><strong>-p 9229:9229</strong>. Dirigimos el tráfico del puerto 9229 de nuestra computadora al puerto 9229 dentro del contenedor que estamos creando. Lo necesitamos porque es el puerto que usará el debugger para establecer conexiones remotas</li>
<li><strong>node node --inspect-brk=0.0.0.0:9229 index.js</strong>. El primer <em>node</em> es el nombre de la imagen que usaremos. Si tienes varias imagenes de Node puedes especificar la versión con algo como <em>node:13.7.0</em> por ejemplo. El resto es el comando que queremos ejecutar dentro del contenedor. En este caso vamos a ejecutar <em>node --inspect-brk=0.0.0.0:9229 index.js</em> (detalles de esto más adelante )</li>
</ul>
<p>Si todo sale bien deberías ver que Docker empieza a crear el contenedor y ejecuta el script de prueba en modo debugger.</p>
<div class="gatsby-highlight" data-language="console"><pre class="language-console"><code class="language-console">Debugger listening on ws://0.0.0.0:9229/271b253c-2b67-4b69-802d-d0820ab8c49a
For help, see: https://nodejs.org/en/docs/inspector</code></pre></div>
<p>El proceso se va a quedar congelado ahí hasta que iniciemos algún cliente de debugger y reanudemos la ejecución del script.</p>
<h2>Conectar las herramientas de desarrollo de chrome al contenedor</h2>
<p>Ahora podemos iniciar el navegador chrome y  abrir la siguiente URL: chrome://inspect/</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 504px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/09e9f987f279c6b93c7cb2e5453a4c47/929d9/node-debugger-docker-chrome-1.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 51.78571428571428%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABHElEQVQoz51S7W6EIBD0/V+yl97ZVj0FQZBP59jtYa0/rkknmbhZYZhlaFJKCCEwqSbQ13vPvZwztm3bWXHsHdkopTDeR/RdB6U0LzbLgo/PL3SlF0LEEWfhMxrnHMZxZEcVMUZYa7GuK2yhKTWRxKtgShHzPENKCSEE16HsY0Fq0mgVJDRNE7TWUIWSNhZ6H/Y1dB1t2zKv71f+umKqIWc0Nrmqo9RDqK/U/HQgMdwHFqqCt/aGy+UNfT/8jEw/rDUsUgVDzBiEx104dJMr9TdH6TApD6EDryUTlXso3jsYY1mojp3zBhdK0iEXJj7gzGM4v1KmkemulpKsLjze5Sucn8s+MtnlNClJY9jdq3f2F3eH5Cw9H3EV/A8eVBEQXyAH74cAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt=" "
        title=" "
        src="/static/09e9f987f279c6b93c7cb2e5453a4c47/929d9/node-debugger-docker-chrome-1.png"
        srcset="/static/09e9f987f279c6b93c7cb2e5453a4c47/fc8b9/node-debugger-docker-chrome-1.png 163w,
/static/09e9f987f279c6b93c7cb2e5453a4c47/d53b1/node-debugger-docker-chrome-1.png 325w,
/static/09e9f987f279c6b93c7cb2e5453a4c47/929d9/node-debugger-docker-chrome-1.png 504w"
        sizes="(max-width: 504px) 100vw, 504px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Hay que asegurarse de que tenemos dada de alta una dirección que apunte a algún proceso en modo debugger y esperar pacientemente a que chrome se conecte ya que no muestra algún indicador que nos haga saber que está trabajando en hacer la conexión.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 301px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/34eb9693c401e60cb6fcd13ca3794978/04489/node-debugger-docker-chrome-2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 109.96677740863787%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACUElEQVQ4y9VV27aiMAz1/7/qfMGsNUdlwAsKyFVaQO4g7EmLOIKeufg2WWtT0pLdNEnDIk1TlGWJoijumOuv5vM8n+ByuSBJEiyqqkTbtqirCk1To24aaSDmGnoX6LoOdV1Lw/qmz0U4FkWRIKwQ+AFURcF6tYRlOzQqME0D+kHHdruH7zrQ1A122gar9Rqe70sSQdz3vYQQseFCPEYZFx5FGF2vV7Eq9bZtSB+IxNqIO2FRFmiqGvp2h+/KJ1RVxX6jYbn8hHmyx60mnoybP2LioZgQcUvz7B78LMsgwvHKeI6ph0RwbVqYhwNW2gr73RaGvoWirGFaFv5FJGFJR06zAkfLw8kNcXJCuEEEx2fwwwQ8KcDiHGeeIoymOPMMjMcIw5DIhnJa1HUFw2YDoeNjp5uwnQBewKAfbRimA9sLUTU9yvo6RQt8W27w8fGBw+EoS2tRUbzE7pYbkYecyENYDsPJ4zDJW5N024/hs4yQzpBDN2xsNE16KWJ/L5tOBngoDjmO7ze96/oX6J5j+KsO+9k4vve/TcRTlkfCP5XGV3i8EP8Z4TvyeJ8fCnu4Zp7rytRzakHh+Yw4poKlLsQ5g+t6YKEYXZxpzaN5x3FkmTx5KPqgHwTYqBos08KJGsLJMnE8GjANA3ESE3lC/S5DRj3vQk2U8Qie56GVXWhGKHYRH3P6SHgVk4dxRN6dQ0n2N8d+imFJdzDw6ViMo7gd425wi9Fg2E164Dw5InSDh/Q/0FQFP6gXJsnl7STJ5iATwbn8Hwgwxt6C4BAJ+wkpc6oVsCMCJQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="node debugger docker chrome 2"
        title="node debugger docker chrome 2"
        src="/static/34eb9693c401e60cb6fcd13ca3794978/04489/node-debugger-docker-chrome-2.png"
        srcset="/static/34eb9693c401e60cb6fcd13ca3794978/fc8b9/node-debugger-docker-chrome-2.png 163w,
/static/34eb9693c401e60cb6fcd13ca3794978/04489/node-debugger-docker-chrome-2.png 301w"
        sizes="(max-width: 301px) 100vw, 301px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Una vez que se ha establecido la conexión solamente tenemos que seguir el enlace que abrirá las DevTools de chrome con nuestro script cargado y listo para ser inspeccionado.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 491px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d77f34d40d0db8293300d0c1416b69cd/a12be/node-debugger-docker-chrome-3.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 56.61914460285132%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABf0lEQVQoz41S7XKDMAzj/V9xawe0KwwokA8SCATNNoPjtv6Y73QGExxZclLXNZq6QVmU8N6Do21b3D8fKMoSU5iktq4r/hPJMAwwxmAcR8QYpRhCANe5tiyL1LlhjKvkHfyNca4lXdeiqio5vIdzDr1SAq012r5HQ6z5oo0tMM8z8izHLc+Rph94e79AaYWEWfDH81iO2CnVEXpqqCQz+HJmxMG5KApqmlHe5IprROK8gyEWzvmj4TgFYmU3qEFyR7lpNawL8FPEQjIw++fzScz0IVfi3KbVOQIRVpZ+cCs6s0hWA70TlJ2pFl6aJBoyVUdgfaZpc5RN0rqHtZqelYztaZK4BBqVddxNigcOU/jg1kALOBSZUdE61U2DhkbK8hsZpGUS70nzHx1fro0nR9lVPryPbrTB5Zrii9znxhU1fhXndTkx9Meoe9y7DOnjir6jcY2VnRzoUs7WWhhr/mzGwfD3bWLKMqHuDPIHLfw0y4rM8yJNWOtAeXf1d8NvHepZn5NiWBEAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="node debugger docker chrome 3"
        title="node debugger docker chrome 3"
        src="/static/d77f34d40d0db8293300d0c1416b69cd/a12be/node-debugger-docker-chrome-3.png"
        srcset="/static/d77f34d40d0db8293300d0c1416b69cd/fc8b9/node-debugger-docker-chrome-3.png 163w,
/static/d77f34d40d0db8293300d0c1416b69cd/d53b1/node-debugger-docker-chrome-3.png 325w,
/static/d77f34d40d0db8293300d0c1416b69cd/a12be/node-debugger-docker-chrome-3.png 491w"
        sizes="(max-width: 491px) 100vw, 491px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Hay que recordar que una vez que se abre la ventana de desarrollo de chrome tenemos que presionar el botón para reanudar la ejecución del script ya que el interprete se detiene antes de comenzar a ejecutar nuestro código.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 632px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/0fa1704497feb956abc006085e372c85/8dee7/node-debugger-docker-chrome-4.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 91.13924050632912%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC+klEQVQ4y3VUaVPbMBT0//9Z/dKZFkqBljghkOD7kA/Zko+EZLtPDkzp4cwbybK02rdvX7zr2xtc3a5wfb/B1Z2P69/i248NvvLbl5sH9+3qbo1v98ua7P/5GMB/jnC/3uFhG+KH/wxvv39GmiRI0wxhGCGIUmyfA0Rxiv3+BXleoiwrhkIhUSjOSyjOlapQVc1lrBEEIbzHXQh/GyDJSsRRhDirkJQd6kYjyzLUdUmghAdyNze2Q8YLEgJ3fYvBGljbYxwsLyvgBWTyEpEdRwFIkxhNU0NrzU0D0lLDDwo8RTUPjCjyEXE6MgPr3s14gmWMM/D0tINXKcUbDPq+Y/Touu49DocJ/s8Cnz/luFt18B8tNtuBkozYbg1HgjZnKH1G1QG39yt4oo2xFsaYD9F3PaZpwkBg0zSwXYsTU4PhSauB0bg4cO18eoU8a98XwJLaSDoUX4nQS7RtS4YHnN0POJ/f4vxHLGvyrFYXwLLMnXZRFLoKNmQkGjrA0+kfIH+HY7heL4BxrhGmDVrN9ExPLc1Fw8P75rfxbf4vQFdlpZhy20PVmiC9K8wC2mOeJ5wuDH8H+t+T5zm8rKgckDDSZNjQf4ombZrWGXYxc8HNGVpKIXJE9GtIE4dh6OZBEDjLyUhj7xDHe5R5gDx7QV2liMInarqH6WtWu0SnG2x2CUKav6oq6Fa/W0uKJ2GYkUs5Dr4jDm5QpA9oyg1GG+M4ZZjHFPOQ4nXOaGZpQbYczT3ZCSPtNFPfw/H4IWWxmxcmigwTWqaiZgcX0zy7UYpj7eB6XFOC+qVBldJi1KpME2gWVFcKEx3xSoYt7ec1pCs+lI7pOrHKkWCzq7Cl4Y9kEccxrKH5lYGKK4zU+kgtJxZ0JtCRLSqGdAx76mC5IIcFWEQf+D6Oo1sT4IJMOuqmVcdMCvd9qfrpQ8qiqfcmrBh5GMbF1N3S17K+2Gd27KUd/2cbuSQT20jV0nT5p+l42KVfLUylBZtLFaWvX9mzIsGfIVmIX4XUL9J7WIqrX6ixAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="node debugger docker chrome 4"
        title="node debugger docker chrome 4"
        src="/static/0fa1704497feb956abc006085e372c85/8dee7/node-debugger-docker-chrome-4.png"
        srcset="/static/0fa1704497feb956abc006085e372c85/fc8b9/node-debugger-docker-chrome-4.png 163w,
/static/0fa1704497feb956abc006085e372c85/d53b1/node-debugger-docker-chrome-4.png 325w,
/static/0fa1704497feb956abc006085e372c85/8dee7/node-debugger-docker-chrome-4.png 632w"
        sizes="(max-width: 632px) 100vw, 632px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Al reanudar la ejecución podemos ver que el primer mensaje ha sido desplegado con éxito en la consola y que el interprete se ha detenido en el punto de paro que hemos establecido. </p>
<p>Podemos usar las herramientas de chrome como sea necesario y reanudar la ejecución de nuestro programa cuando hayamos terminado.</p>
<h2>¿Cómo se usa el debugger de Node con Docker?</h2>
<p>Ahora voy a explicar con más detalle como funciona la configuración del debbuger.</p>
<p>Para indicarle a node que queremos ejecutar nuestro script con capacidad de debugger agregamos la opcion <strong>--inspect-brk</strong>. Con esto activamos el debugger y hacemos que la ejecución se detenga antes de empezar a interpretar nuestro programa hasta que reanudamos la ejecución manualmente desde el cliente de debugger.</p>
<p>Esto es necesario cuando ejecutamos programas que terminan el proceso inmediatamente después de interpretar todo nuestro código, de lo contrario el programa iniciaría y terminaría mucho antes de que chrome tuviera oportunidad de conectarse al debugger.</p>
<p>Si estamos ejecutando un programa de ejecución continua como por ejemplo una API hecha con Express, entonces tal vez no es necesario usar <em>--inspect-brk</em> sino la opción <strong>--inspect</strong>, que es prácticamente igual con la diferencia de que no va a detener el proceso al inicio sino hasta que encuentre el primer punto de paro en nuestro código. Esto depende mucho de como funcione tu programa y en que punto de la ejecución te interese hacer una pausa; recuerda que chrome necesita mucho tiempo para poder conectarse al proceso de debugger.</p>
<p>Tanto <em>--inspect</em> como <em>--inspect-brk</em> necesitan información adicional para funcionar desde un contenedor Docker. La configuración predeterminada no permite conectarse de forma remota, por eso hay que configurar una IP y un puerto para tener acceso remoto. En este caso lo conseguimos agregando los valores <code class="language-text">=0.0.0.0:9229</code> para permitir el acceso desde cualquier interface de red por el puerto 9229.</p>
<blockquote>
<p>⚠ Será necesario cerrar la ventana de DevTools de chrome y volver a abrir el enlace de la página <em>chrome://inspect</em> cada vez que realices un cambio en el código. Recuerda que chrome necesita tiempo para volver a conectarse al debugger y cargar las herramientas de desarrollo con la nueva versión de tu código.</p>
</blockquote>
<h2>Alerta de seguridad</h2>
<p>Aunque puede ser una herramienta muy útil, el modo de debugger no es una opción segura para ser usada en ambientes de producción. La recomendación oficial es que esta característica se mantenga desactivada mientras nuestra aplicación está siendo usada por usuarios reales en un ambiente de instalación real.</p>
<h2>Conclusión</h2>
<p>Esta es una forma rápida de configurar tu ambiente de desarrollo para ejecutar el debugger para una aplicación hecha con Node y ejecutada desde un contenedor Docker usando las herramientas de desarrollador del navegador chrome.</p>
<p>En otra ocasión mostraré como usar el debugger desde otros clientes como por ejemplo desde Visual Studio Code.</p>
<p>Hasta la próxima 👋.</p></div></section><footer class="Article__ArticleFooter-sc-1ieqwvb-1 kcmIPB"><div class="Bio__BioWrapper-sc-1f5ffr1-0 iFjAGq"><figure class="author-image"><div alt="Eduardo Hernández Guerrero" style="background-image:url(&quot;/static/65ed3638782aa51a7ec8dfe8a55d8641/6d110/avatar.jpg&quot;)" class="img"></div></figure><section><h4>About the author</h4><p class="Commons__Text-sc-4jkj7v-1 Bio__BioText-sc-1f5ffr1-1 derogv">
  Eduardo es un nerd apasionado por la tecnología. Se ha dedicado a investigar y poner en práctica distintos lenguajes de programación desde los 16 años de edad y actualmente trabaja como ingeniero de software para empresas de USA y Canadá. Siempre disfruta compartiendo los resultados de sus experimentos tecnológicos con todos los que conoce y aprender algo más en el proceso.
  </p></section></div></footer></article></main><main role="main" class="Wrapper-sc-1i6tdq5-0 fLXykm"><div id="disqus_thread"></div><p class="Commons__Text-sc-4jkj7v-1 bYGEVA">Read next:</p><ul><li><a class="Commons__StyledLink-sc-4jkj7v-0 dgmtYz" href="/instalacion-minima-de-babel-7">Instalación mínima de Babel 7</a></li><li><a class="Commons__StyledLink-sc-4jkj7v-0 dgmtYz" href="/instala-neo4j-con-docker">Instala neo4j con docker</a></li></ul></main></div><footer class="Footer__FooterWrapper-sc-26us4e-0 eHJGcr"><nav><div class="footer-col"><h5 class="footer-title">Eduardo Hernández Guerrero<!-- --> © <!-- -->2020</h5><p class="footer-item-text">Built with<!-- --> <a class="footer-link" href="https://www.gatsbyjs.org">Gatsby</a>.</p><p class="footer-item-text">Theme using<!-- --> <a class="footer-link" href="https://github.com/maxpou/gatsby-starter-morning-dew">gatsby-starter-morning-dew</a>.</p><p class="footer-item-text">Hosted with<!-- --> <span class="footer-heart" role="img" aria-label="Love">❤</span> <!-- -->by<!-- --> <a class="footer-link" href="https://github.com">GitHub</a>.</p></div><div class="footer-col"><h5 class="footer-title">Explorar</h5><span class="footer-item"><a class="footer-link" href="/">Blog</a></span><span class="footer-item"><a class="footer-link" href="/subscribirte">Subscribirte</a></span></div><div class="footer-col"><h5 class="footer-title">Sígueme</h5><span class="footer-item"><a class="footer-link" href="https://github.com/lalitohg">GitHub</a></span><span class="footer-item"><a class="footer-link" href="https://www.linkedin.com/in/eduardo-hern%C3%A1ndez-568195a2">LinkedIn</a></span><span class="footer-item"><a class="footer-link" href="https://twitter.com/codeninjalalo">Twitter</a></span><span class="footer-item"><a class="footer-link" href="https://web.facebook.com/eduardo.hernandezguerrero.58">Facebook</a></span></div></nav></footer></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-135040717-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/ejecutar-debugger-de-node-con-chrome";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-f7cfeda098be14c50e52.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-cf2fd0f92da7499f18b1.js"],"component---src-templates-blog-list-template-js":["/component---src-templates-blog-list-template-js-d785c32f2c511056413d.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-72869f1b3a3013571f9f.js"],"component---src-templates-page-js":["/component---src-templates-page-js-8c696df4affbae1e191d.js"],"component---src-templates-tags-js":["/component---src-templates-tags-js-6289afb09b36706b2972.js"],"component---src-pages-404-js":["/component---src-pages-404-js-04386645a747358468af.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-72869f1b3a3013571f9f.js" async=""></script><script src="/commons-b2b7124e25699a8e1264.js" async=""></script><script src="/styles-d51cd31b28a7e87a52a7.js" async=""></script><script src="/app-f7cfeda098be14c50e52.js" async=""></script><script src="/webpack-runtime-d64f93a43f7147080ee8.js" async=""></script></body></html>